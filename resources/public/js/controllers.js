// Generated by CoffeeScript 1.9.1
(function() {
  var Controllers;

  Controllers = angular.module('Controllers', []);

  Controllers.controller('ClusterListCtrl', [
    '$scope', '$rootScope', '$location', '$log', 'Configuration', 'Stats', function($scope, $rootScope, $location, $log, $cluster_configuration, $cluster_stats) {
      var cluster_stats_query;
      $scope.errors = [];
      $scope.cluster_configuration;
      $scope.cluster_stats;
      $scope.gridApi;
      $scope.cluster_list_grid_configuration;
      cluster_stats_query;
      $scope.cluster_list_grid_configuration = {
        enableFiltering: true,
        columnDefs: [
          {
            name: 'cluster'
          }, {
            name: 'client_connections'
          }, {
            name: 'client_err'
          }
        ],
        onRegisterApi: function(gridApi) {
          return $scope.gridApi = gridApi;
        }
      };
      cluster_stats_query = $cluster_stats.list();
      cluster_stats_query.success(function(stats) {
        $scope.cluster_stats = stats;
        return $scope.cluster_list_grid_configuration.data = _.filter(_.map(stats, function(stat, cluster) {
          if (_.isObject(stat)) {
            return _.extend({
              cluster: cluster
            }, _.pick(stat, ['client_connections', 'client_err']));
          }
        }));
      });
      return cluster_stats_query.error(function(e) {
        return $scope.errors.push(e);
      });
    }
  ]);

  Controllers.controller('ClusterSelectCtrl', ['$scope', '$rootScope', '$location', '$log', function($scope, $rootScope, $location, $log) {}]);

}).call(this);
